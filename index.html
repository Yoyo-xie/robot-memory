<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Memory - AI Prompt Collection</title>
    <style>
        :root {
            --bg-primary: #ffffff;
            --bg-secondary: #f5f5f7;
            --text-primary: #1d1d1f;
            --text-secondary: #86868b;
            --accent: #0071e3;
            --border: rgba(0,0,0,0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.5; -webkit-font-smoothing: antialiased; }
        .container { max-width: 1080px; margin: 0 auto; padding: 0 20px; }
        header { padding: 60px 0 40px; text-align: center; }
        .logo { font-size: 14px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px; }
        h1 { font-size: 48px; font-weight: 700; margin-bottom: 12px; }
        .subtitle { font-size: 20px; color: var(--text-secondary); max-width: 500px; margin: 0 auto; }
        .stats { display: flex; justify-content: center; gap: 40px; margin-top: 32px; }
        .stat-number { font-size: 28px; font-weight: 700; }
        .stat-label { font-size: 13px; color: var(--text-secondary); }
        .search-section { padding: 32px 0; border-bottom: 1px solid var(--border); }
        .search-box { max-width: 500px; margin: 0 auto; }
        .search-box input { width: 100%; padding: 14px 20px; font-size: 15px; border: 1px solid var(--border); border-radius: 12px; background: var(--bg-secondary); }
        .search-box input:focus { outline: none; background: var(--bg-primary); border-color: var(--accent); }
        .filters { display: flex; justify-content: center; gap: 8px; padding: 24px 0; flex-wrap: wrap; }
        .filter-btn { padding: 8px 16px; font-size: 14px; border: none; border-radius: 20px; background: transparent; color: var(--text-secondary); cursor: pointer; }
        .filter-btn:hover { background: var(--bg-secondary); }
        .filter-btn.active { background: var(--text-primary); color: var(--bg-primary); }
        .cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 16px; padding-bottom: 60px; }
        .card { background: var(--bg-primary); border: 1px solid var(--border); border-radius: 16px; padding: 20px; cursor: pointer; transition: all 0.3s; }
        .card:hover { transform: scale(1.02); box-shadow: 0 4px 16px rgba(0,0,0,0.08); }
        .card-header { display: flex; justify-content: space-between; gap: 12px; margin-bottom: 12px; }
        .card-title { font-size: 16px; font-weight: 600; }
        .card-badge { padding: 4px 10px; font-size: 12px; border-radius: 6px; }
        .badge-tool { background: #e8f4fd; color: #0071e3; }
        .badge-general { background: #f2e8fd; color: #7c3aed; }
        .badge-draw { background: #fff4e8; color: #f59e0b; }
        .badge-write { background: #e8f9ed; color: #10b981; }
        .card-preview { font-size: 14px; color: var(--text-secondary); line-height: 1.6; margin-bottom: 12px; white-space: pre-wrap; }
        .card-footer { display: flex; justify-content: space-between; padding-top: 12px; border-top: 1px solid var(--border); }
        .card-date { font-size: 13px; color: var(--text-secondary); }
        .card-action { font-size: 13px; font-weight: 500; color: var(--accent); }
        .modal { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.4); backdrop-filter: blur(20px); z-index: 1000; align-items: center; justify-content: center; padding: 20px; }
        .modal.active { display: flex; }
        .modal-content { background: var(--bg-primary); border-radius: 20px; max-width: 700px; width: 100%; max-height: 85vh; overflow: hidden; display: flex; flex-direction: column; }
        .modal-header { padding: 24px; border-bottom: 1px solid var(--border); display: flex; gap: 16px; }
        .modal-close-btn { width: 32px; height: 32px; border: none; border-radius: 50%; background: var(--bg-secondary); cursor: pointer; }
        .modal-title { font-size: 22px; font-weight: 700; }
        .modal-body { padding: 24px; overflow-y: auto; flex: 1; }
        .section-label { font-size: 13px; font-weight: 600; color: var(--text-secondary); margin-bottom: 8px; }
        .section-content { font-size: 15px; line-height: 1.7; white-space: pre-wrap; background: var(--bg-secondary); padding: 16px; border-radius: 12px; max-height: 280px; overflow-y: auto; }
        .modal-footer { padding: 20px 24px; border-top: 1px solid var(--border); display: flex; gap: 12px; }
        .modal-btn { flex: 1; padding: 14px; border: none; border-radius: 12px; cursor: pointer; }
        .modal-btn-secondary { background: var(--bg-secondary); }
        .modal-btn-primary { background: var(--accent); color: white; }
        .toast { position: fixed; bottom: 24px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--text-primary); color: white; padding: 12px 24px; border-radius: 10px; opacity: 0; transition: all 0.3s; z-index: 2000; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        @media (max-width: 768px) { h1 { font-size: 32px; } .cards { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Robot Memory</div>
            <h1>AI Prompt Collection</h1>
            <p class="subtitle">ç²¾å¿ƒç­–åˆ’çš„ AI æç¤ºè¯æ”¶è—é›†</p>
            <div class="stats">
                <div><div class="stat-number">32</div><div class="stat-label">æ€»è®¡</div></div>
                <div><div class="stat-number">20</div><div class="stat-label">å·¥å…·</div></div>
                <div><div class="stat-number">10</div><div class="stat-label">é€šç”¨</div></div>
                <div><div class="stat-number">2</div><div class="stat-label">åˆ›ä½œ</div></div>
            </div>
        </header>
        <div class="search-section">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="æœç´¢æç¤ºè¯...">
            </div>
        </div>
        <div class="filters">
            <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
            <button class="filter-btn" data-filter="ğŸ”§ å·¥å…·">å·¥å…·</button>
            <button class="filter-btn" data-filter="âš¡ é€šç”¨">é€šç”¨</button>
            <button class="filter-btn" data-filter="ğŸ¨ ç»˜å›¾èŠ¯ç‰‡">ç»˜å›¾</button>
            <button class="filter-btn" data-filter="ğŸ“ å†™ä½œèŠ¯ç‰‡">å†™ä½œ</button>
        </div>
        <div class="cards" id="cardsContainer"><div style="text-align:center;padding:40px;">åŠ è½½ä¸­...</div></div>
    </div>
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close-btn" onclick="closeModal()">&times;</button>
                <div class="modal-title" id="modalTitle"></div>
            </div>
            <div class="modal-body">
                <div class="section-label">ç³»ç»ŸæŒ‡ä»¤</div>
                <div class="section-content" id="modalSystemPrompt"></div>
                <div id="userPromptSection" style="display:none;margin-top:16px;">
                    <div class="section-label">ç”¨æˆ·æŒ‡ä»¤</div>
                    <div class="section-content" id="modalUserPrompt"></div>
                </div>
                <div style="margin-top:16px;">
                    <div class="section-label">æ·»åŠ æ—¶é—´</div>
                    <div class="section-content" id="modalDate"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn modal-btn-secondary" onclick="closeModal()">å…³é—­</button>
                <button class="modal-btn modal-btn-primary" onclick="copyPrompt()">å¤åˆ¶å…¨éƒ¨å†…å®¹</button>
            </div>
        </div>
    </div>
    <div class="toast" id="toast">å·²å¤åˆ¶åˆ°å‰ªè´´æ¿</div>
    <script>
        let prompts = [];
        let currentPrompt = null;
        let activeFilter = 'all';

        async function loadPrompts() {
            try {
                const response = await fetch('prompts.json?v=' + Date.now());
                prompts = await response.json();
                renderCards(prompts);
            } catch (error) {
                console.error('Load error:', error);
                document.getElementById('cardsContainer').innerHTML = '<div style="text-align:center;padding:40px;">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé¢é‡è¯•<br><small>æˆ–æ£€æŸ¥æ§åˆ¶å°é”™è¯¯ä¿¡æ¯</small></div>';
            }
        }

        function getBadgeClass(category) {
            if (category.includes('å·¥å…·')) return 'badge-tool';
            if (category.includes('é€šç”¨')) return 'badge-general';
            if (category.includes('ç»˜å›¾')) return 'badge-draw';
            if (category.includes('å†™ä½œ')) return 'badge-write';
            return 'badge-general';
        }

        function renderCards(promptsToRender) {
            const container = document.getElementById('cardsContainer');
            if (promptsToRender.length === 0) {
                container.innerHTML = '<div style="text-align:center;padding:40px;">æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„æç¤ºè¯</div>';
                return;
            }
            container.innerHTML = promptsToRender.map((prompt, index) => `
                <div class="card" data-index="${index}">
                    <div class="card-header">
                        <div class="card-title">${prompt.title}</div>
                        <span class="card-badge ${getBadgeClass(prompt.category)}">${prompt.category.replace('èŠ¯ç‰‡', '')}</span>
                    </div>
                    <div class="card-preview">${prompt.systemPrompt.substring(0, 120)}...</div>
                    <div class="card-footer">
                        <span class="card-date">${prompt.date}</span>
                        <span class="card-action">æŸ¥çœ‹è¯¦æƒ… â†’</span>
                    </div>
                </div>
            `).join('');

            // ä¸ºæ¯ä¸ªå¡ç‰‡æ·»åŠ ç‚¹å‡»äº‹ä»¶
            container.querySelectorAll('.card').forEach(card => {
                card.addEventListener('click', function() {
                    const index = parseInt(this.dataset.index);
                    openModal(prompts[index]);
                });
            });
        }

        function openModal(prompt) {
            currentPrompt = prompt;
            document.getElementById('modalTitle').textContent = prompt.title;
            document.getElementById('modalSystemPrompt').textContent = prompt.systemPrompt;
            const userSection = document.getElementById('userPromptSection');
            if (prompt.userPrompt) {
                userSection.style.display = 'block';
                document.getElementById('modalUserPrompt').textContent = prompt.userPrompt;
            } else {
                userSection.style.display = 'none';
            }
            document.getElementById('modalDate').textContent = prompt.date;
            document.getElementById('modal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function copyPrompt() {
            if (!currentPrompt) return;
            let text = 'ã€' + currentPrompt.title + 'ã€‘\nåˆ†ç±»ï¼š' + currentPrompt.category + '\n\nç³»ç»ŸæŒ‡ä»¤ï¼š\n' + currentPrompt.systemPrompt;
            if (currentPrompt.userPrompt) {
                text += '\n\nç”¨æˆ·æŒ‡ä»¤ï¼š\n' + currentPrompt.userPrompt;
            }
            text += '\n\næ·»åŠ æ—¶é—´ï¼š' + currentPrompt.date;
            navigator.clipboard.writeText(text).then(() => showToast());
        }

        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2000);
        }

        // ç­›é€‰
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                activeFilter = btn.dataset.filter;
                applyFilters();
            });
        });

        // æœç´¢
        document.getElementById('searchInput').addEventListener('input', applyFilters);

        function applyFilters() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const filtered = prompts.filter(prompt => {
                const matchesFilter = activeFilter === 'all' || prompt.category === activeFilter;
                const matchesSearch = !searchTerm ||
                    prompt.title.toLowerCase().includes(searchTerm) ||
                    prompt.systemPrompt.toLowerCase().includes(searchTerm);
                return matchesFilter && matchesSearch;
            });
            renderCards(filtered);
        }

        // å…³é—­å¼¹çª—
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });

        // åŠ è½½æ•°æ®
        loadPrompts();
    </script>
</body>
</html>
